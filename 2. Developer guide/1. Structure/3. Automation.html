<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Continuous deployment | Project M</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="A data-driven programming language for game developers">
    <link rel="preload" href="/assets/css/0.styles.a5be1857.css" as="style"><link rel="preload" href="/assets/js/app.9796c593.js" as="script"><link rel="preload" href="/assets/js/2.ac6125bd.js" as="script"><link rel="preload" href="/assets/js/32.38aebb1d.js" as="script"><link rel="prefetch" href="/assets/js/10.2d486e24.js"><link rel="prefetch" href="/assets/js/11.0344a88e.js"><link rel="prefetch" href="/assets/js/12.8d5c4b88.js"><link rel="prefetch" href="/assets/js/13.2cb6d64d.js"><link rel="prefetch" href="/assets/js/14.92d69458.js"><link rel="prefetch" href="/assets/js/15.3b0fef61.js"><link rel="prefetch" href="/assets/js/16.d6730efe.js"><link rel="prefetch" href="/assets/js/17.5f6c7eae.js"><link rel="prefetch" href="/assets/js/18.ccda8bc7.js"><link rel="prefetch" href="/assets/js/19.41437243.js"><link rel="prefetch" href="/assets/js/20.52ece1ae.js"><link rel="prefetch" href="/assets/js/21.32906e28.js"><link rel="prefetch" href="/assets/js/22.2f4145fc.js"><link rel="prefetch" href="/assets/js/23.42909458.js"><link rel="prefetch" href="/assets/js/24.e0cf5efb.js"><link rel="prefetch" href="/assets/js/25.f5a66ba1.js"><link rel="prefetch" href="/assets/js/26.8c4e7530.js"><link rel="prefetch" href="/assets/js/27.583cbd54.js"><link rel="prefetch" href="/assets/js/28.2dd449d8.js"><link rel="prefetch" href="/assets/js/29.ce5ffc60.js"><link rel="prefetch" href="/assets/js/3.f0b70bc9.js"><link rel="prefetch" href="/assets/js/30.87a0e0bf.js"><link rel="prefetch" href="/assets/js/31.a4eaf6a1.js"><link rel="prefetch" href="/assets/js/33.cb3dd11a.js"><link rel="prefetch" href="/assets/js/34.eef5411e.js"><link rel="prefetch" href="/assets/js/35.ff4d6e4d.js"><link rel="prefetch" href="/assets/js/36.bceef361.js"><link rel="prefetch" href="/assets/js/37.f2f1a89f.js"><link rel="prefetch" href="/assets/js/38.0834b06f.js"><link rel="prefetch" href="/assets/js/4.b91b03b4.js"><link rel="prefetch" href="/assets/js/5.9c607f22.js"><link rel="prefetch" href="/assets/js/6.3ac68283.js"><link rel="prefetch" href="/assets/js/7.a46ccf2e.js"><link rel="prefetch" href="/assets/js/8.974f4970.js"><link rel="prefetch" href="/assets/js/9.f1b50cf9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a5be1857.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://avatars2.githubusercontent.com/u/6147446?s=400&amp;u=c325f5bfc187e889f05cc872681ad1cb1ba6b3b5&amp;v=4" alt="Project M" class="logo"> <span class="site-name can-hide">Project M</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/0. Starter guide/0. Set up.html" class="nav-link">
  Starter guide
</a></div><div class="nav-item"><a href="/1. User guide/0. How to/0. Transforms.html" class="nav-link">
  User guide
</a></div><div class="nav-item"><a href="/2. Developer guide/0. Philosophy/0. Motivation.html" class="nav-link">
  Developer guide
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/0. Starter guide/0. Set up.html" class="nav-link">
  Starter guide
</a></div><div class="nav-item"><a href="/1. User guide/0. How to/0. Transforms.html" class="nav-link">
  User guide
</a></div><div class="nav-item"><a href="/2. Developer guide/0. Philosophy/0. Motivation.html" class="nav-link">
  Developer guide
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/2. Developer guide/0. Philosophy/0. Motivation.html" class="sidebar-link">Language properties</a></li><li><a href="/2. Developer guide/0. Philosophy/2. Design decisions.html" class="sidebar-link">Design decisions</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="continuous-deployment"><a href="#continuous-deployment" class="header-anchor">#</a> Continuous deployment</h1> <p>Code - including documentation - is automatically transformed to deployed
artifacts.</p> <ol><li>Develop code - including docs -</li> <li>Lint code. Incorrect? Go to 1</li> <li>Build code and generate artifacts.</li> <li>Test artifacts. Incorrect? Go to 1.</li> <li>Deploy artifacts to the web.</li></ol> <p>Node versions are annoying.</p> <p>Please not that apart from 1. a script automates all the tasks.</p> <h2 id="continuous-integration"><a href="#continuous-integration" class="header-anchor">#</a> Continuous integration</h2> <p>Code - including documentation - that satisfies the quality requirements gets
committed. Thanks to git hooks implemented in python, we can run quality tools
like scc, markdownlint and vale and disallow commits that don't follow the
quality standard.</p> <p>Code checker runs gradle shadowJar, gradle clean, and scc. Doc checker runs
markdownlint, markdown-link-checker and vale.</p> <p>The outputs are:</p> <ul><li>m.jar containing all java .classes and nothing else</li> <li>m-web.html containing all block definitions and toolboxes and a reference to
<code>Blockly.js</code></li> <li>m.AppImage: The theia based application built with electron.</li></ul> <h2 id="staging"><a href="#staging" class="header-anchor">#</a> Staging</h2> <h3 id="testing-m-jar"><a href="#testing-m-jar" class="header-anchor">#</a> Testing m.jar</h3> <p>A custom script checks that all the code blocks in the documentation work as
expected. It goes through the markdown pages and gathers code blocks. Then runs
the m-compiler.jar with generated files to check that the console output is as
expected.</p> <h3 id="testing-m-html"><a href="#testing-m-html" class="header-anchor">#</a> Testing m.html</h3> <p>A selenium script checks that all the block-based code blocks in the
documentation work as expected. It goes through the markdown pages and gathers
block-based code blocks. Then runs selenium with m.html, inputs the code block
and checks that there are no errors.</p> <h3 id="testing-m-appimage"><a href="#testing-m-appimage" class="header-anchor">#</a> Testing m.AppImage</h3> <p>A selenium script checks that all the text-based code blocks in the
documentation work as expected. It goes through the markdown pages and gathers
text-based code blocks. Then runs selenium with m.AppImage electron application,
inputs the code block and checks that there are no errors.</p> <h2 id="deployment"><a href="#deployment" class="header-anchor">#</a> Deployment</h2> <p>Upload m.jar, m.html and m.AppImage to a Github release. Host m.html using
github-pages. Host browser version of m.AppImage in Glitch.</p> <h2 id="publish"><a href="#publish" class="header-anchor">#</a> Publish</h2> <p>Twurl posts a tweet with the last commit message. Right now the secrets are in
the .twurlrc file. Github secrets contains the tokens for accessing the twitter
app.</p> <h2 id="new-cycle"><a href="#new-cycle" class="header-anchor">#</a> New cycle</h2> <p>Development consists of 8 steps, where each step has a manual side and an
automated side.</p> <p>We can divide these 8 steps into two groups of 3 and 2 linking them giving as a
familiar dev ops cycle:</p> <ul><li>Coding
<ul><li>Code / Build</li> <li>Refactor / Lint</li> <li>Document / Test</li></ul></li> <li>Coding -&gt; Production
<ul><li>Generate artifacts / Release</li></ul></li> <li>Production
<ul><li>Review / Deploy</li> <li>Write changelog / Publish</li> <li>Write issues / Feedback</li></ul></li> <li>Production -&gt; Coding
<ul><li>Create milestone / Plan</li></ul></li></ul> <p>Every step has a corresponding github action file under .github/workflows that
runs on a specific event.</p> <p>For example, Code is the process of creating source code whereas Build is the
process of automatically compiling that code. Document is the process of
explaining why the developer wrote that code that way and Test is the process of
automatically testing that what the programmer expected and wrote in the
documentation is precisely what happens when executed.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9796c593.js" defer></script><script src="/assets/js/2.ac6125bd.js" defer></script><script src="/assets/js/32.38aebb1d.js" defer></script>
  </body>
</html>
